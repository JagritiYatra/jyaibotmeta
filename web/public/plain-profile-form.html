<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Join Jagriti Yatra Alumni Network</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- International Telephone Input CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/css/intlTelInput.css">
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #ec4899;
            --accent: #8b5cf6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }

        .progress-bar {
            transition: width 0.5s ease-in-out;
        }

        .form-section {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease-out forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-section:nth-child(1) { animation-delay: 0.1s; }
        .form-section:nth-child(2) { animation-delay: 0.2s; }
        .form-section:nth-child(3) { animation-delay: 0.3s; }
        .form-section:nth-child(4) { animation-delay: 0.4s; }
        
        .input-focus {
            transition: all 0.3s ease;
        }

        .input-focus:focus {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
        }

        .checkbox-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .checkbox-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .checkbox-card input:checked + .checkbox-label {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .loader {
            border: 3px solid #f3f3f3;
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
            display: inline-block;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .field-icon {
            color: var(--primary);
            opacity: 0.8;
        }

        .success-animation {
            animation: successPulse 0.5s ease-out;
        }

        @keyframes successPulse {
            0% { transform: scale(0.8); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        /* Simple International Tel Input Fix - Solid Background & High Z-index */
        .iti {
            width: 100%;
            position: relative;
        }
        
        .iti__flag-container {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 3;
        }
        
        .iti__selected-flag {
            position: relative;
            display: flex;
            align-items: center;
            height: 100%;
            padding: 0 8px 0 12px;
            background-color: #f9fafb;
            border-radius: 8px 0 0 8px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .iti__selected-flag:hover,
        .iti__selected-flag:focus {
            background-color: #ede9fe;
        }
        
        /* Phone input field */
        .iti input[type="tel"] {
            width: 100%;
            height: 52px;
            padding: 0 16px 0 90px;
            font-size: 16px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: white;
        }
        
        .iti input[type="tel"]:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
            outline: none;
        }
        
        .iti input[type="tel"].error {
            border-color: var(--danger);
            box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.1);
        }
        
        /* Country List Dropdown - Simple working style */
        .iti__country-list {
            z-index: 9999 !important;
            background: white !important;
            background-color: #ffffff !important;
            border: 1px solid #ddd !important;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;
        }
        
        /* Custom scrollbar for dropdown */
        .iti__country-list::-webkit-scrollbar {
            width: 8px;
        }
        
        .iti__country-list::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        .iti__country-list::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        
        .iti__country-list::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        /* Country items */
        .iti__country {
            padding: 8px 10px !important;
            background: white !important;
            background-color: white !important;
            opacity: 1 !important;
            cursor: pointer;
        }
        
        .iti__country:hover,
        .iti__country.iti__highlight {
            background-color: #f3f4f6 !important;
        }
        
        .iti__flag-box {
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
        }
        
        .iti__country-name {
            flex: 1;
            font-size: 14px;
            color: #1f2937;
        }
        
        .iti__dial-code {
            color: #6b7280;
            font-size: 13px;
            font-weight: 500;
            margin-left: auto;
            padding-left: 8px;
        }
        
        /* Divider for preferred countries */
        .iti__divider {
            height: 1px;
            background: linear-gradient(to right, transparent, #e5e7eb, transparent);
            margin: 8px 12px;
        }
        
        /* Removed backdrop - not needed for simple dropdown */
        
        /* Accessibility improvements */
        .iti__country[aria-selected="true"] {
            background: #ede9fe;
            font-weight: 600;
        }
        
        .iti__country:focus {
            outline: 2px solid var(--primary);
            outline-offset: -2px;
        }
        
        /* Error message styling */
        .phone-error-message {
            display: none;
            color: var(--danger);
            font-size: 13px;
            margin-top: 6px;
            padding-left: 4px;
            animation: errorSlideIn 0.3s ease;
        }
        
        .phone-error-message.show {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        @keyframes errorSlideIn {
            from {
                opacity: 0;
                transform: translateY(-5px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Loading state */
        .iti__country-list.loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 30px;
            height: 30px;
            border: 3px solid #e5e7eb;
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }
        
        /* Smooth Field Focus Animations */
        .form-field-wrapper {
            position: relative;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
        }
        
        .form-field-wrapper:focus-within {
            transform: translateY(-2px);
        }
        
        .form-field-wrapper label {
            transition: color 0.3s ease;
        }
        
        .form-field-wrapper:focus-within label {
            color: var(--primary);
        }
        
        /* Input Field Enhancements */
        input:not([type="checkbox"]):not([type="radio"]),
        select,
        textarea {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 2px solid #e5e7eb;
        }
        
        input:not([type="checkbox"]):not([type="radio"]):hover,
        select:hover,
        textarea:hover {
            border-color: #d1d5db;
        }
        
        input:not([type="checkbox"]):not([type="radio"]):focus,
        select:focus,
        textarea:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.1);
            outline: none;
        }
        
        /* Real-time Validation Feedback */
        .field-valid {
            border-color: var(--success) !important;
        }
        
        .field-invalid {
            border-color: var(--danger) !important;
            animation: shake 0.3s ease;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        /* Progress Step Indicators */
        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin: 2rem 0;
            padding: 0 1rem;
        }
        
        .progress-step {
            flex: 1;
            text-align: center;
            position: relative;
        }
        
        .progress-step:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 20px;
            left: 50%;
            width: 100%;
            height: 2px;
            background: #e5e7eb;
            z-index: -1;
        }
        
        .progress-step.active .step-number {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }
        
        .progress-step.completed .step-number {
            background: var(--success);
            color: white;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: 2px solid #e5e7eb;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s ease;
            margin-bottom: 0.5rem;
        }
        
        /* Better Checkbox Cards */
        .checkbox-card-improved {
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .checkbox-card-improved::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: linear-gradient(90deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
            transition: width 0.3s ease;
        }
        
        .checkbox-card-improved:hover::before {
            width: 100%;
        }
        
        .checkbox-card-improved:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.15);
        }
        
        .checkbox-card-improved input:checked + label {
            font-weight: 600;
        }
        
        .checkbox-card-improved input:checked ~ .check-icon {
            opacity: 1;
            transform: scale(1);
        }
        
        .check-icon {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: var(--primary);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: scale(0);
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        /* Smooth Scrolling Between Sections */
        html {
            scroll-behavior: smooth;
        }
        
        /* Auto-save Indicator */
        .save-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            padding: 12px 24px;
            border-radius: 50px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            display: none;
            align-items: center;
            gap: 10px;
            z-index: 100;
        }
        
        .save-indicator.show {
            display: flex;
            animation: slideInUp 0.4s ease;
        }
        
        @keyframes slideInUp {
            from {
                transform: translateY(100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        /* Mobile Optimizations - Keep dropdown simple */
        @media (max-width: 768px) {
            /* Let intl-tel-input handle positioning naturally */
            
            /* Larger touch targets */
            .iti__selected-flag {
                min-height: 52px;
                padding: 0 16px;
            }
            
            .iti input[type="tel"] {
                font-size: 16px !important; /* Prevents zoom on iOS */
            }
            
            input, select, textarea {
                font-size: 16px !important; /* Prevents zoom on iOS */
            }
        }

        .tooltip {
            position: relative;
            display: inline-block;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 200px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 10px;
            position: absolute;
            z-index: 1;
            bottom: 125%;
            left: 50%;
            margin-left: -100px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
        }

        .tooltip:hover .tooltiptext {
            visibility: visible;
            opacity: 1;
        }

        .otp-input {
            width: 50px;
            height: 50px;
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            margin: 0 5px;
        }

        .otp-input:focus {
            border-color: var(--primary);
            outline: none;
        }

        .email-verification-section {
            display: block;
        }

        .main-form-section {
            display: none;
        }

        .main-form-section.active {
            display: block;
        }

        .email-verification-section.hidden {
            display: none;
        }

        select:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="fixed top-0 left-0 right-0 h-1 bg-gray-200 z-50">
        <div id="progressBar" class="progress-bar h-full bg-gradient-to-r from-purple-600 to-pink-600" style="width: 0%"></div>
    </div>

    <!-- Header -->
    <div class="py-8 px-4">
        <div class="container mx-auto max-w-6xl">
            <div class="text-center text-white">
                <h1 class="text-4xl md:text-5xl font-bold mb-3">Join Jagriti Yatra Alumni Network</h1>
                <p class="text-xl opacity-90">Connect with 9000+ Changemakers & Entrepreneurs</p>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container mx-auto px-4 pb-8 max-w-6xl">
        <div class="glass-effect rounded-2xl p-8 md:p-12">
            
            <!-- Email Verification Section -->
            <div id="emailVerificationSection" class="email-verification-section">
                <div class="max-w-md mx-auto">
                    <div class="text-center mb-8">
                        <div class="bg-purple-100 p-4 rounded-full inline-block mb-4">
                            <i class="fas fa-envelope text-3xl text-purple-600"></i>
                        </div>
                        <h2 class="text-2xl font-bold text-gray-800 mb-2">Verify Your Email</h2>
                        <p class="text-gray-600">Enter your authorized email to access the form</p>
                    </div>

                    <!-- Email Input Step -->
                    <div id="emailInputStep">
                        <div class="mb-6">
                            <label class="block text-gray-700 font-semibold mb-2">
                                Email Address *
                            </label>
                            <div class="relative">
                                <i class="fas fa-envelope absolute left-3 top-3 text-gray-400"></i>
                                <input type="email" id="emailInput" required 
                                       class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg input-focus focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                                       placeholder="Enter your authorized email">
                            </div>
                            <div id="emailError" class="text-red-600 text-sm mt-2 hidden"></div>
                        </div>

                        <button id="sendOtpBtn" type="button" 
                                class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition">
                            Send OTP
                        </button>
                    </div>

                    <!-- OTP Input Step -->
                    <div id="otpInputStep" class="hidden">
                        <div class="mb-6">
                            <p class="text-gray-600 mb-4">
                                We've sent a 6-digit code to <strong id="sentEmailDisplay"></strong>
                            </p>
                            <label class="block text-gray-700 font-semibold mb-3">
                                Enter OTP Code
                            </label>
                            <div class="flex justify-center mb-4">
                                <input type="text" class="otp-input" maxlength="1" id="otp1">
                                <input type="text" class="otp-input" maxlength="1" id="otp2">
                                <input type="text" class="otp-input" maxlength="1" id="otp3">
                                <input type="text" class="otp-input" maxlength="1" id="otp4">
                                <input type="text" class="otp-input" maxlength="1" id="otp5">
                                <input type="text" class="otp-input" maxlength="1" id="otp6">
                            </div>
                            <div id="otpError" class="text-red-600 text-sm text-center mb-2 hidden"></div>
                            <div class="text-center">
                                <button id="resendOtpBtn" type="button" class="text-purple-600 hover:text-purple-700 text-sm">
                                    Resend OTP
                                </button>
                            </div>
                        </div>

                        <button id="verifyOtpBtn" type="button" 
                                class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition">
                            Verify OTP
                        </button>
                    </div>
                </div>
            </div>

            <!-- Main Form Section (Initially Hidden) -->
            <div id="mainFormSection" class="main-form-section">
                <!-- Progress Steps Indicator -->
                <div class="progress-steps mb-8">
                    <div class="progress-step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="text-xs mt-1 font-medium">Basic Info</div>
                    </div>
                    <div class="progress-step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="text-xs mt-1 font-medium">Location</div>
                    </div>
                    <div class="progress-step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="text-xs mt-1 font-medium">Contact</div>
                    </div>
                    <div class="progress-step" data-step="4">
                        <div class="step-number">4</div>
                        <div class="text-xs mt-1 font-medium">Professional</div>
                    </div>
                    <div class="progress-step" data-step="5">
                        <div class="step-number">5</div>
                        <div class="text-xs mt-1 font-medium">Community</div>
                    </div>
                </div>
                
                <form id="profileForm" class="space-y-8">
                    
                    <!-- Section 1: Basic Information -->
                    <div class="form-section">
                        <div class="flex items-center mb-6">
                            <div class="bg-purple-100 p-3 rounded-full mr-4">
                                <i class="fas fa-user-circle text-2xl field-icon"></i>
                            </div>
                            <div>
                                <h2 class="text-2xl font-bold text-gray-800">Basic Information</h2>
                                <p class="text-gray-600">Let's start with the essentials</p>
                            </div>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">
                                    Full Name *
                                    <div class="tooltip inline-block ml-2">
                                        <i class="fas fa-info-circle text-gray-400 text-sm"></i>
                                        <span class="tooltiptext">Enter your complete name as per official documents</span>
                                    </div>
                                </label>
                                <div class="relative">
                                    <i class="fas fa-user absolute left-3 top-3 text-gray-400"></i>
                                    <input type="text" name="name" required 
                                           class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg input-focus focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                                           placeholder="Enter your full name">
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">
                                    Gender *
                                </label>
                                <div class="relative">
                                    <i class="fas fa-venus-mars absolute left-3 top-3 text-gray-400"></i>
                                    <select name="gender" required 
                                            class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg input-focus focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent appearance-none">
                                        <option value="">Select Gender</option>
                                        <option value="Male">Male</option>
                                        <option value="Female">Female</option>
                                        <option value="Others">Others</option>
                                        <option value="Prefer not to say">Prefer not to say</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">
                                    Date of Birth *
                                    <div class="tooltip inline-block ml-2">
                                        <i class="fas fa-info-circle text-gray-400 text-sm"></i>
                                        <span class="tooltiptext">You must be between 16 and 90 years old</span>
                                    </div>
                                </label>
                                <div class="relative">
                                    <i class="fas fa-calendar absolute left-3 top-3 text-gray-400"></i>
                                    <input type="date" name="dateOfBirth" id="dateOfBirth" required 
                                           class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg input-focus focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent">
                                    <small id="dobError" class="text-red-500 text-sm hidden mt-1"></small>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">
                                    Professional Role *
                                </label>
                                <div class="relative">
                                    <i class="fas fa-briefcase absolute left-3 top-3 text-gray-400"></i>
                                    <select name="professionalRole" required 
                                            class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg input-focus focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent appearance-none">
                                        <option value="">Select Role</option>
                                        <option value="Entrepreneur">Entrepreneur</option>
                                        <option value="Student">Student</option>
                                        <option value="Working Professional">Working Professional</option>
                                        <option value="Government Official">Government Official</option>
                                        <option value="Freelancer">Freelancer</option>
                                        <option value="NGO Worker">NGO Worker</option>
                                        <option value="Researcher">Researcher</option>
                                        <option value="Others">Others</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 2: Location Information -->
                    <div class="form-section">
                        <div class="flex items-center mb-6">
                            <div class="bg-green-100 p-3 rounded-full mr-4">
                                <i class="fas fa-map-marker-alt text-2xl text-green-600"></i>
                            </div>
                            <div>
                                <h2 class="text-2xl font-bold text-gray-800">Location Details</h2>
                                <p class="text-gray-600">Help us connect you with alumni nearby</p>
                            </div>
                        </div>
                        
                        <div class="grid md:grid-cols-3 gap-6">
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">
                                    Country *
                                </label>
                                <div class="relative">
                                    <i class="fas fa-globe absolute left-3 top-3 text-gray-400"></i>
                                    <select name="country" id="countrySelect" required 
                                            class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg input-focus focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent appearance-none">
                                        <option value="">Loading countries...</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">
                                    State *
                                </label>
                                <div class="relative">
                                    <i class="fas fa-map absolute left-3 top-3 text-gray-400"></i>
                                    <select name="state" id="stateSelect" required disabled
                                            class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg input-focus focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent appearance-none">
                                        <option value="">Select country first</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">
                                    City *
                                </label>
                                <div class="relative">
                                    <i class="fas fa-city absolute left-3 top-3 text-gray-400"></i>
                                    <select name="city" id="citySelect" required disabled
                                            class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg input-focus focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent appearance-none">
                                        <option value="">Select state first</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 3: Contact Information -->
                    <div class="form-section">
                        <div class="flex items-center mb-6">
                            <div class="bg-blue-100 p-3 rounded-full mr-4">
                                <i class="fas fa-address-card text-2xl text-blue-600"></i>
                            </div>
                            <div>
                                <h2 class="text-2xl font-bold text-gray-800">Contact Information</h2>
                                <p class="text-gray-600">Your WhatsApp number for the bot</p>
                            </div>
                        </div>
                        
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="form-field-wrapper">
                                <label for="whatsappPhone" class="block text-gray-700 font-semibold mb-2">
                                    <i class="fab fa-whatsapp text-green-500 mr-2"></i>
                                    WhatsApp Number *
                                    <div class="tooltip inline-block ml-2">
                                        <i class="fas fa-info-circle text-gray-400 text-sm"></i>
                                        <span class="tooltiptext">Must be active on WhatsApp for bot communication</span>
                                    </div>
                                </label>
                                <div class="relative" role="group" aria-labelledby="phone-label">
                                    <input type="tel" 
                                           id="whatsappPhone" 
                                           name="phoneNumber" 
                                           required 
                                           aria-label="WhatsApp phone number"
                                           aria-describedby="phone-helper phone-error"
                                           aria-invalid="false"
                                           autocomplete="tel"
                                           placeholder="98765 43210">
                                    <div id="phone-error" class="phone-error-message" role="alert" aria-live="polite">
                                        <i class="fas fa-exclamation-circle"></i>
                                        <span id="phone-error-text">Please enter a valid phone number</span>
                                    </div>
                                    <small id="phone-helper" class="text-gray-500 text-sm mt-2 block flex items-center">
                                        <i class="fas fa-check-circle mr-1 text-green-500 text-xs"></i>
                                        Number will be formatted to E.164 for WhatsApp
                                    </small>
                                </div>
                                <!-- Portal container for dropdown -->
                                <div id="country-dropdown-portal"></div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">
                                    Additional Email
                                    <span class="text-gray-400 text-sm font-normal">(Optional)</span>
                                </label>
                                <div class="relative">
                                    <i class="fas fa-envelope absolute left-3 top-3 text-gray-400"></i>
                                    <input type="email" name="additionalEmail" 
                                           class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg input-focus focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                                           placeholder="additional@email.com">
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">
                                    LinkedIn Profile *
                                    <div class="tooltip inline-block ml-2">
                                        <i class="fas fa-info-circle text-gray-400 text-sm"></i>
                                        <span class="tooltiptext">Your LinkedIn URL helps alumni connect professionally</span>
                                    </div>
                                </label>
                                <div class="relative">
                                    <i class="fab fa-linkedin absolute left-3 top-3 text-gray-400"></i>
                                    <input type="url" name="linkedInProfile" required 
                                           class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg input-focus focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                                           placeholder="https://linkedin.com/in/yourprofile">
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">
                                    Instagram Profile
                                    <span class="text-gray-400 text-sm font-normal">(Optional)</span>
                                </label>
                                <div class="relative">
                                    <i class="fab fa-instagram absolute left-3 top-3 text-gray-400"></i>
                                    <input type="text" name="instagramProfile" 
                                           class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg input-focus focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent"
                                           placeholder="@yourhandle or instagram.com/yourprofile">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Section 4: Professional & Community -->
                    <div class="form-section">
                        <div class="flex items-center mb-6">
                            <div class="bg-purple-100 p-3 rounded-full mr-4">
                                <i class="fas fa-users text-2xl text-purple-600"></i>
                            </div>
                            <div>
                                <h2 class="text-2xl font-bold text-gray-800">Professional & Community</h2>
                                <p class="text-gray-600">Share your expertise and needs</p>
                            </div>
                        </div>
                        
                        <div class="space-y-6">
                            <!-- Industry Domain -->
                            <div>
                                <label class="block text-gray-700 font-semibold mb-2">
                                    Industry Domain *
                                </label>
                                <div class="relative">
                                    <i class="fas fa-industry absolute left-3 top-3 text-gray-400"></i>
                                    <select name="industryDomain" required 
                                            class="w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg input-focus focus:outline-none focus:ring-2 focus:ring-purple-600 focus:border-transparent appearance-none">
                                        <option value="">Select Industry</option>
                                        <option value="Agriculture">Agriculture</option>
                                        <option value="Technology">Technology</option>
                                        <option value="Healthcare">Healthcare</option>
                                        <option value="Education">Education</option>
                                        <option value="Finance">Finance</option>
                                        <option value="Manufacturing">Manufacturing</option>
                                        <option value="Retail">Retail</option>
                                        <option value="Arts and Entertainment">Arts and Entertainment</option>
                                        <option value="Social Impact">Social Impact</option>
                                        <option value="Environment">Environment</option>
                                        <option value="Others">Others</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Yatra Impact -->
                            <div>
                                <label class="block text-gray-700 font-semibold mb-3">
                                    Yatra Impact
                                    <span class="text-gray-400 text-sm font-normal">(Select all that apply)</span>
                                </label>
                                <div class="grid md:grid-cols-2 gap-3">
                                    <div class="checkbox-card-improved">
                                        <input type="checkbox" name="yatraImpact" value="Started Enterprise Post-Yatra" 
                                               id="impact1" class="hidden">
                                        <label for="impact1" class="checkbox-label flex items-center p-4 cursor-pointer relative z-10">
                                            <i class="fas fa-rocket mr-3 text-purple-600"></i>
                                            <span>Started Enterprise Post-Yatra</span>
                                        </label>
                                        <div class="check-icon">
                                            <i class="fas fa-check text-xs"></i>
                                        </div>
                                    </div>
                                    <div class="checkbox-card">
                                        <input type="checkbox" name="yatraImpact" value="Found Clarity on Life Goals" 
                                               id="impact2" class="hidden">
                                        <label for="impact2" class="checkbox-label flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-purple-300 transition">
                                            <i class="fas fa-compass mr-3 text-purple-600"></i>
                                            <span>Found Clarity on Life Goals</span>
                                        </label>
                                    </div>
                                    <div class="checkbox-card">
                                        <input type="checkbox" name="yatraImpact" value="Received Funding for Venture" 
                                               id="impact3" class="hidden">
                                        <label for="impact3" class="checkbox-label flex items-center p-4 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-purple-300 transition">
                                            <i class="fas fa-hand-holding-usd mr-3 text-purple-600"></i>
                                            <span>Received Funding for Venture</span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <!-- Community Asks -->
                            <div>
                                <label class="block text-gray-700 font-semibold mb-3">
                                    What are you looking for from the community?
                                    <span class="text-gray-400 text-sm font-normal">(Max 3)</span>
                                </label>
                                <div class="grid md:grid-cols-2 gap-3" id="communityAsks">
                                    <div class="checkbox-card">
                                        <input type="checkbox" name="communityAsks" value="Mentorship" id="ask1" class="hidden">
                                        <label for="ask1" class="checkbox-label flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-purple-300 transition text-sm">
                                            <i class="fas fa-user-tie mr-2 text-purple-600"></i>
                                            Mentorship
                                        </label>
                                    </div>
                                    <div class="checkbox-card">
                                        <input type="checkbox" name="communityAsks" value="Business Partnerships" id="ask2" class="hidden">
                                        <label for="ask2" class="checkbox-label flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-purple-300 transition text-sm">
                                            <i class="fas fa-handshake mr-2 text-purple-600"></i>
                                            Business Partnerships
                                        </label>
                                    </div>
                                    <div class="checkbox-card">
                                        <input type="checkbox" name="communityAsks" value="Funding Support" id="ask3" class="hidden">
                                        <label for="ask3" class="checkbox-label flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-purple-300 transition text-sm">
                                            <i class="fas fa-coins mr-2 text-purple-600"></i>
                                            Funding Support
                                        </label>
                                    </div>
                                    <div class="checkbox-card">
                                        <input type="checkbox" name="communityAsks" value="Career Opportunities" id="ask4" class="hidden">
                                        <label for="ask4" class="checkbox-label flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-purple-300 transition text-sm">
                                            <i class="fas fa-briefcase mr-2 text-purple-600"></i>
                                            Career Opportunities
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <!-- Community Gives -->
                            <div>
                                <label class="block text-gray-700 font-semibold mb-3">
                                    What can you offer to the community?
                                    <span class="text-gray-400 text-sm font-normal">(Max 3)</span>
                                </label>
                                <div class="grid md:grid-cols-2 gap-3" id="communityGives">
                                    <div class="checkbox-card">
                                        <input type="checkbox" name="communityGives" value="Mentorship" id="give1" class="hidden">
                                        <label for="give1" class="checkbox-label flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-purple-300 transition text-sm">
                                            <i class="fas fa-chalkboard-teacher mr-2 text-purple-600"></i>
                                            Mentorship
                                        </label>
                                    </div>
                                    <div class="checkbox-card">
                                        <input type="checkbox" name="communityGives" value="Industry Insights" id="give2" class="hidden">
                                        <label for="give2" class="checkbox-label flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-purple-300 transition text-sm">
                                            <i class="fas fa-lightbulb mr-2 text-purple-600"></i>
                                            Industry Insights
                                        </label>
                                    </div>
                                    <div class="checkbox-card">
                                        <input type="checkbox" name="communityGives" value="Investment" id="give3" class="hidden">
                                        <label for="give3" class="checkbox-label flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-purple-300 transition text-sm">
                                            <i class="fas fa-chart-line mr-2 text-purple-600"></i>
                                            Investment
                                        </label>
                                    </div>
                                    <div class="checkbox-card">
                                        <input type="checkbox" name="communityGives" value="Networking" id="give4" class="hidden">
                                        <label for="give4" class="checkbox-label flex items-center p-3 border-2 border-gray-200 rounded-lg cursor-pointer hover:border-purple-300 transition text-sm">
                                            <i class="fas fa-network-wired mr-2 text-purple-600"></i>
                                            Networking
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Suggestions Section -->
                    <div class="form-section bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 mb-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                            <i class="fas fa-lightbulb mr-3 text-yellow-500"></i>
                            Suggestions
                        </h3>
                        <div>
                            <label for="suggestions" class="block text-gray-700 font-semibold mb-2">
                                What Extra Fields Should We Collect?
                                <span class="text-gray-400 text-sm font-normal ml-2">(Optional)</span>
                            </label>
                            <textarea 
                                id="suggestions" 
                                name="suggestions" 
                                rows="4"
                                placeholder="Please suggest any additional information or fields that would be valuable for the alumni network database..."
                                class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:outline-none focus:border-indigo-400 transition resize-none"
                            ></textarea>
                            <p class="text-sm text-gray-500 mt-2">
                                <i class="fas fa-info-circle mr-1"></i>
                                Your suggestions help us improve the data we collect for better networking
                            </p>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <div class="text-center pt-6">
                        <button type="submit" id="submitBtn" 
                                class="group relative inline-flex items-center justify-center px-8 py-4 text-lg font-bold text-white transition-all duration-200 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl hover:from-purple-700 hover:to-pink-700 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2">
                            <span class="mr-2">Complete Profile</span>
                            <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform"></i>
                        </button>
                        <p class="mt-4 text-sm text-gray-600">
                            By submitting, you agree to connect with the Jagriti Yatra alumni community
                        </p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Success Modal (Hidden by default) -->
    <div id="successModal" class="fixed inset-0 z-50 hidden">
        <div class="fixed inset-0 bg-black bg-opacity-50"></div>
        <div class="fixed inset-0 flex items-center justify-center p-4">
            <div class="bg-white rounded-2xl p-8 max-w-md w-full transform success-animation">
                <div class="text-center">
                    <div class="mx-auto w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mb-4">
                        <i class="fas fa-check-circle text-5xl text-green-500"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">Thank You!</h3>
                    <p class="text-gray-800 font-semibold mb-4">Your data has been captured successfully!</p>
                    <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6 text-left">
                        <p class="text-gray-700 mb-2">
                            <i class="fas fa-rocket text-blue-500 mr-2"></i>
                            We are working hard to launch the bot ASAP!
                        </p>
                        <p class="text-gray-600 text-sm">
                            <i class="fas fa-bell text-blue-500 mr-2"></i>
                            You'll be notified on WhatsApp once the bot is ready.
                        </p>
                    </div>
                    <p class="text-sm text-gray-500 mb-4">Meanwhile, your profile is safely stored and ready.</p>
                    <button onclick="location.reload()" 
                       class="inline-block bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-lg font-semibold hover:from-purple-700 hover:to-pink-700 transition">
                        Submit Another Response
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- International Telephone Input JS -->
    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/intlTelInput.min.js"></script>
    
    <script src="/js/hybrid-locations.js"></script>
    <script src="/js/plain-profile-form.js"></script>
    
    <script>
    // Initialize phone input with all countries
    document.addEventListener('DOMContentLoaded', function() {
        // Progress Step Tracking
        const updateProgressSteps = () => {
            const sections = document.querySelectorAll('.form-section');
            const steps = document.querySelectorAll('.progress-step');
            
            let currentSection = 0;
            const scrollPosition = window.scrollY + 200;
            
            sections.forEach((section, index) => {
                const rect = section.getBoundingClientRect();
                const top = rect.top + window.scrollY;
                
                if (scrollPosition >= top) {
                    currentSection = index;
                }
            });
            
            steps.forEach((step, index) => {
                if (index <= currentSection) {
                    step.classList.add('active');
                    if (index < currentSection) {
                        step.classList.add('completed');
                    }
                } else {
                    step.classList.remove('active', 'completed');
                }
            });
        };
        
        // Update on scroll
        let scrollTimeout;
        window.addEventListener('scroll', () => {
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(updateProgressSteps, 50);
        });
        
        // Initial update
        updateProgressSteps();
        
        // Smooth focus transitions
        document.querySelectorAll('input, select, textarea').forEach(field => {
            field.addEventListener('focus', function() {
                this.parentElement.classList.add('focused');
            });
            
            field.addEventListener('blur', function() {
                this.parentElement.classList.remove('focused');
                
                // Add validation feedback
                if (this.value && this.checkValidity()) {
                    this.classList.add('field-valid');
                    this.classList.remove('field-invalid');
                } else if (this.value && !this.checkValidity()) {
                    this.classList.add('field-invalid');
                    this.classList.remove('field-valid');
                }
            });
        });
        
        const phoneInput = document.querySelector("#whatsappPhone");
        const phoneError = document.querySelector("#phone-error");
        const phoneErrorText = document.querySelector("#phone-error-text");
        
        // Simple ITI configuration that works
        const iti = window.intlTelInput(phoneInput, {
            initialCountry: "in",
            preferredCountries: ["in", "us", "gb", "ae", "sg", "au", "ca", "de", "fr"],
            separateDialCode: true,
            utilsScript: "https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",
            formatOnDisplay: true,
            nationalMode: false,
            placeholderNumberType: "MOBILE",
            // Remove dropdownContainer to use default behavior
            autoPlaceholder: "aggressive"
        });
        
        // Store the ITI instance for form submission
        window.phoneITI = iti;
        
        // Enhanced validation with E.164 formatting
        phoneInput.addEventListener('blur', function() {
            validatePhoneNumber();
        });
        
        phoneInput.addEventListener('input', function() {
            // Remove error state while typing
            phoneInput.classList.remove('error');
            phoneError.classList.remove('show');
            phoneInput.setAttribute('aria-invalid', 'false');
        });
        
        function validatePhoneNumber() {
            if (phoneInput.value.trim()) {
                if (iti.isValidNumber()) {
                    phoneInput.classList.remove('error');
                    phoneInput.classList.add('field-valid');
                    phoneError.classList.remove('show');
                    phoneInput.setAttribute('aria-invalid', 'false');
                    
                    // Get E.164 format
                    const e164Number = iti.getNumber();
                    console.log('Valid number in E.164 format:', e164Number);
                    return true;
                } else {
                    const errorCode = iti.getValidationError();
                    let errorMsg = 'Please enter a valid phone number';
                    
                    // Custom error messages based on validation error
                    switch(errorCode) {
                        case intlTelInputUtils.validationError.TOO_SHORT:
                            errorMsg = 'Phone number is too short';
                            break;
                        case intlTelInputUtils.validationError.TOO_LONG:
                            errorMsg = 'Phone number is too long';
                            break;
                        case intlTelInputUtils.validationError.INVALID_COUNTRY_CODE:
                            errorMsg = 'Invalid country code';
                            break;
                        case intlTelInputUtils.validationError.NOT_A_NUMBER:
                            errorMsg = 'Please enter numbers only';
                            break;
                    }
                    
                    phoneInput.classList.add('error');
                    phoneInput.classList.remove('field-valid');
                    phoneError.classList.add('show');
                    phoneErrorText.textContent = errorMsg;
                    phoneInput.setAttribute('aria-invalid', 'true');
                    return false;
                }
            }
            return true;
        }
        
        // Simple validation - no complex dropdown overrides
        
        // Date of Birth Validation (16-90 years)
        const dobInput = document.getElementById('dateOfBirth');
        const dobError = document.getElementById('dobError');
        
        // Set min and max dates
        const today = new Date();
        const minDate = new Date();
        const maxDate = new Date();
        
        minDate.setFullYear(today.getFullYear() - 90); // 90 years ago
        maxDate.setFullYear(today.getFullYear() - 16); // 16 years ago
        
        // Format dates for input element
        dobInput.max = maxDate.toISOString().split('T')[0];
        dobInput.min = minDate.toISOString().split('T')[0];
        
        // Validate on change
        dobInput.addEventListener('change', function() {
            const selectedDate = new Date(this.value);
            const age = Math.floor((today - selectedDate) / (365.25 * 24 * 60 * 60 * 1000));
            
            if (age < 16) {
                dobError.textContent = 'You must be at least 16 years old to register';
                dobError.classList.remove('hidden');
                this.setCustomValidity('You must be at least 16 years old');
            } else if (age > 90) {
                dobError.textContent = 'Please enter a valid date of birth (maximum age 90)';
                dobError.classList.remove('hidden');
                this.setCustomValidity('Invalid age');
            } else {
                dobError.classList.add('hidden');
                this.setCustomValidity('');
            }
        });
    });
    </script>
</body>
</html>